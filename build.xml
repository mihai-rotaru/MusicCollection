<project name="plugindemo" default="app">
<target name="app" depends="clean, compile, bundle" />

<target name="clean">
  <delete file="Launcher.jar" />
  <delete file="Launcher.class" />
  <delete file="main/AutostartPlugin.class" />
  <delete file="main/Core.class" />
  <delete file="plugins/HelloWorld.class" />
  <delete file="plugins/AnotherPlugin.class" />
  <delete file="Muscoll.class" />
</target>

<target name="compile">
  <javac srcdir=".:main" classpath=".:main" />
  <javac srcdir=".:plugins" classpath=".:main:plugins" /> 
</target>

<target name="bundle">
  <jar destfile="Launcher.jar">
    <fileset file="Launcher.class" />
    <manifest>
      <attribute name="Main-class" value="Launcher"/>
      <!-- The trailing slashes are important! It won't work without them! -->
      <attribute name="Class-Path" value="resources/ main/ plugins/ spiregistry/" />
    </manifest>
  </jar>
</target>

</project>
